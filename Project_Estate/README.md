# Проект. Построение модели прогнозирования стоимости жилья для агенства недвижимости

## Оглавление 
[1. Описание проекта](https://github.com/dmitryabr1/skillfactory_data/blob/main/Project_Estate/%D0%91%D1%80%D0%B8%D1%84_%D1%83%D1%87%D0%B5%D0%B1%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BA%D0%B5%D0%B9%D1%81%D0%B0__%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_%D0%BF%D1%80%D0%BE%D0%B3%D0%BD%D0%BE%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D1%81%D1%82%D0%BE%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8_%D0%B6%D0%B8%D0%BB%D1%8C%D1%8F_%D0%B4%D0%BB%D1%8F_%D0%B0%D0%B3%D0%B5%D0%BD%D1%82%D1%81%D1%82%D0%B2%D0%B0_%D0%BD%D0%B5%D0%B4%D0%B2%D0%B8%D0%B6%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8_.pdf)

[2. Ссылка на данные](https://drive.google.com/file/d/11-ZNNIdcQ7TbT8Y0nsQ3Q0eiYQP__NIW/view)

[3. Выводы](https://github.com/dmitryabr1/skillfactory_data/tree/main/Project_Estate)

## Построение модели прогнозирования стоимости жилья для агенства недвижимости.
:arrow_up:[к оглавлению]()

### Какой кейс решаем?
1. Нужно проанализировать данные заполненные вручную агентами по недвижимости США. Провести подготовительный разведывательный анализ для построения ML модели по предсказанию стоимоти недвижимости США. 
2. Построить можель для погнозирования стоимости жилья
3. Разработать небольшой сервис на вход которому поступают данные о жилье, а сервис выдает прогноз по цене.

### данные выложены:
- https://drive.google.com/file/d/11-ZNNIdcQ7TbT8Y0nsQ3Q0eiYQP__NIW/view

### Вывод:
Основные этапы
----------------------
1. Предобработка данных
2. EDA
3. ML моделирование
4. Feature Engineering - улучшение модели
5. Реализация web сервиса на FastApi

Предобработка данных
-----------------------
+ Отбор и обработка признаков  
+ Работа с выбросами для вещественных признаков
+ Применение OneHotEncoding к категориальным принакам

EDA
-----------------------
+ Построение графиков распределения признаков
+ Построение матрицы корреляции числовых признаков
+ Устранение признаков из наиболее скоррелированной пары

ML моделирование 
-----------------------
Были обучены следующие модели
+ LinearRegression на вещественных и категориальных признаках не стандартизированнх признаках  R2 = 0.578
+ LinearRegression на вещественных и категориальных признаках стандартизированнх признаках  R2 =  0.577
+ RandomForestRegressor на вещественных и категориальных признаках признаках  R2 = 0.723
+ RandomForestRegression - регрессия на вещественных и категориальных признаках, подбор параметров с помощью RandomSearch  R2 = 0.737
+ CatBoost на вещественных и категориальных признаках  R2 = 0.773

Реализация web сервиса на FastApi 
+ Сервер раелизован в фалйе main.py
+ Предобработка данных поступающих после запроса выполнена в файле salling_price_pred.py
+ Интерфейс ввода данных описан в файле index.html
-----------------------
+ Загрузка одного объекта в формате json и получение предсказания цены для него, загружаем данные:
Пример: ```{"status": "for sale", "propertyType": "single-family", "baths": 2.0, "fireplace": 0,"city": "Miami", "sqft": 1396.0, "beds": 3.0, "state": "FL", "stories": "", "PrivatePool": 0, "Heating": "Forced air", "Cooling": 1, "Parking": "Other", "Age": 69.0, "Repaired": 1}
(Смотреть результат в папке screenshots)
Прогноз цены - {"price":401163.33}

Результат выложены в файле - https://github.com/dmitryabr1/skillfactory_data/tree/main/Project_Estate

:arrow_up:[к оглавлению]()